---
title: Introduction
description: Type-safe OCPP WebSocket RPC client & server for Node.js â€” with browser support.
---

import { Cards, Card } from "fumadocs-ui/components/card";
import { Tab, Tabs } from "fumadocs-ui/components/tabs";
import { Step, Steps } from "fumadocs-ui/components/steps";
import { Callout } from "fumadocs-ui/components/callout";
import { Mermaid } from "@/components/mermaid";

# ocpp-ws-io

**Type-safe OCPP WebSocket RPC client & server for Node.js.**

Built with TypeScript from the ground up â€” supports **OCPP 1.6**, **2.0.1**, and **2.1** with full JSON schema validation, all three OCPP security profiles, optional Redis-based clustering, and a zero-dependency browser client for testing.

<Callout type="info">
  Looking for **browser usage**? Check out the [Browser
  Client](/docs/guides/browser-client) â€” a lightweight charge point simulator
  client that runs directly in the browser.
</Callout>

---

## Key Features

<Cards>
  <Card
    title="âš¡ Full OCPP-J RPC"
    description="Call, CallResult, CallError message framing per OCPP-J specification. Handles all RPC lifecycle management automatically."
  />
  <Card
    title="ðŸŽ¯ Type-Safe"
    description="Auto-generated TypeScript types for every OCPP 1.6, 2.0.1, and 2.1 method. Full request/response inference â€” catch errors at compile time."
  />
  <Card
    title="ðŸ”’ Security Profiles 0â€“3"
    description="Plain WS, Basic Auth, TLS + Basic Auth, and Mutual TLS. All OCPP security profiles supported out of the box."
  />
  <Card
    title="ðŸ“ Strict Mode"
    description="Optional JSON schema validation for all inbound and outbound messages. Catch malformed payloads before they cause issues."
  />
  <Card
    title="ðŸ” Auto-Reconnect"
    description="Exponential backoff with configurable min/max delays, max retries, and runtime reconfiguration."
  />
  <Card
    title="ðŸ§© Framework Agnostic"
    description="Use standalone, or attach to Express, Fastify, NestJS, or any Node.js HTTP server."
  />
  <Card
    title="ðŸ“¡ Redis Clustering"
    description="Optional Redis adapter for multi-instance deployments. Supports both ioredis and node-redis."
  />
  <Card
    title="ðŸ”€ Version-Aware Handlers"
    description="Register handlers per OCPP version with typed params, or use generic handlers with protocol context."
  />
  <Card
    title="ðŸŒ Browser Client"
    description="Zero-dependency browser WebSocket client for building charge point simulators and testing dashboards."
  />
</Cards>

---

## Quick Start

<Steps>

<Step>

### Install

<Tabs items={["npm", "pnpm", "yarn", "bun"]}>
  <Tab value="npm">```bash npm install ocpp-ws-io ```</Tab>
  <Tab value="pnpm">```bash pnpm add ocpp-ws-io ```</Tab>
  <Tab value="yarn">```bash yarn add ocpp-ws-io ```</Tab>
  <Tab value="bun">```bash bun add ocpp-ws-io ```</Tab>
</Tabs>

</Step>

<Step>

### Create a Client (Charging Station)

```typescript title="client.ts"
import { OCPPClient, SecurityProfile } from "ocpp-ws-io";

const client = new OCPPClient({
  endpoint: "ws://localhost:3000",
  identity: "CP001",
  protocols: ["ocpp1.6"],
  securityProfile: SecurityProfile.NONE,
});

// Register a typed handler
client.handle("Reset", ({ params }) => {
  console.log("Reset type:", params.type); // typed: "Hard" | "Soft"
  return { status: "Accepted" };
});

await client.connect();

// Version-aware call â€” fully typed
const response = await client.call("ocpp1.6", "BootNotification", {
  chargePointVendor: "VendorX",
  chargePointModel: "ModelY",
});

console.log("Status:", response.status); // "Accepted" | "Pending" | "Rejected"
```

</Step>

<Step>

### Create a Server (Central System)

```typescript title="server.ts"
import { OCPPServer } from "ocpp-ws-io";

const server = new OCPPServer({
  protocols: ["ocpp1.6", "ocpp2.0.1"],
});

server.auth((accept, reject, handshake) => {
  console.log(`Connection from ${handshake.identity}`);
  accept({ session: { authorized: true } });
});

server.on("client", (client) => {
  console.log(`${client.identity} connected (${client.protocol})`);

  client.handle("ocpp1.6", "BootNotification", ({ params }) => {
    return {
      status: "Accepted",
      currentTime: new Date().toISOString(),
      interval: 300,
    };
  });
});

await server.listen(3000);
```

</Step>

</Steps>

---

## Architecture Overview

<Mermaid chart={`
graph TB
    subgraph Browser["Browser Environment"]
        BC[BrowserOCPPClient]
    end

    subgraph NodeClient["Node.js Client"]
        NC[OCPPClient]
    end

    subgraph NodeServer["Node.js Server"]
        NS[OCPPServer]
        SC[OCPPServerClient]
        NS --> SC
    end

    subgraph Adapters["Clustering"]
        RA[RedisAdapter]
    end

    BC -->|WebSocket| NS
    NC -->|WebSocket + TLS| NS
    NS --> RA

`} />

| Component           | Import                      | Description                                           |
| :------------------ | :-------------------------- | :---------------------------------------------------- |
| `OCPPClient`        | `ocpp-ws-io`                | Node.js client with TLS, security profiles, ping/pong |
| `OCPPServer`        | `ocpp-ws-io`                | WebSocket server with auth, clustering, strict mode   |
| `BrowserOCPPClient` | `ocpp-ws-io/browser`        | Lightweight browser client for testing & simulation   |
| `RedisAdapter`      | `ocpp-ws-io/adapters/redis` | Multi-instance clustering via Redis pub/sub           |

---

## OCPP Version Support

| Feature                | OCPP 1.6 | OCPP 2.0.1 | OCPP 2.1 |
| :--------------------- | :------: | :--------: | :------: |
| Type-safe `call()`     |    âœ…    |     âœ…     |    âœ…    |
| Type-safe `handle()`   |    âœ…    |     âœ…     |    âœ…    |
| JSON Schema Validation |    âœ…    |     âœ…     |    âœ…    |
| Auto-generated Types   |    âœ…    |     âœ…     |    âœ…    |

---

## What's Next?

<Cards>
  <Card
    title="Quick Start Guide"
    href="/docs/quick-start"
    description="Set up your first OCPP client and server in under 5 minutes."
  />
  <Card
    title="Browser Client"
    href="/docs/guides/browser-client"
    description="Build charge point simulators that run directly in the browser."
  />
  <Card
    title="Framework Integration"
    href="/docs/guides/frameworks"
    description="Use with Express, Fastify, NestJS, Next.js, and more."
  />
  <Card
    title="Security Profiles"
    href="/docs/guides/security"
    description="Configure TLS, Basic Auth, and Mutual TLS for production."
  />
  <Card
    title="Type Safety"
    href="/docs/reference/type-safety"
    description="Leverage auto-generated types for compile-time safety."
  />
  <Card
    title="API Reference"
    href="/docs/reference/api-reference"
    description="Complete API documentation for all classes and methods."
  />
</Cards>
